| #  | Nome modali# TACTICA - PROGETTO DI GIOCO EDUCATIVO

**Descrizione**: Tactica è un gioco educativo sviluppato in Flutter Web per bambini di età compresa tra i 7 e i 10 anni. 
Il gioco è progettato per insegnare le basi della strategia e delle tattiche utilizzando i principi della teoria dei giochi in modo divertente e accessibile.

**Piattaforma**: Flutter Web
**Target**: Bambini 7-10 anni  
**Obiettivo**: Imparare strategie e tattiche attraverso la teoria dei giochi

## MODALITÀ DI GIOCO - PROTOTIPO INIZIALE

Le prime 5 modalità da implementare:

### 1. Classic Tic Tac Toe (Modalità Base)
- **Tipo**: Sequenziale
- **Meccaniche**: Turni alternati, informazione completa
- **Obiettivo Educativo**: Equilibrio perfetto, capire che giocando razionalmente nessuno vince
- **Concetti**: Strategie dominanti, equilibrio di Nash

### 2. Simultaneous Tic Tac Toe (Modalità Tattica)
- **Tipo**: Simultaneo  
- **Meccaniche**: Entrambi scelgono una cella segretamente
- **Obiettivo Educativo**: Introduzione all'equilibrio misto e randomizzazione strategica
- **Concetti**: Strategie miste, imprevedibilità

### 3. Co-op Tic Tac Toe (Modalità Cooperativa)
- **Tipo**: Sequenziale cooperativo
- **Meccaniche**: 1 utente + AI amica vs 1 AI nemica (una mossa a testa del team, inizia utente)
- **Obiettivo Educativo**: Cooperazione e fiducia, capire la Pareto efficiency
- **Concetti**: Coordinamento, comunicazione, giochi cooperativi

### 4. Nebel Tic Tac Toe (Modalità Strategica)
- **Tipo**: Sequenziale con informazione incompleta
- **Meccaniche**: Alcune celle oscurate casualmente
- **Esempio**:
  ```
  [?, X, ?]
  [X, ?, O]
  [?, O, ?]
  ```
- **Obiettivo Educativo**: Informazione incompleta, decisioni incerte, gestione del rischio
- **Concetti**: Incertezza, valutazione probabilistica

### 5. Guess & Match Tic Tac Toe (Modalità Sfida)
- **Tipo**: Simulato/Predittivo
- **Meccaniche**: L'AI piazza simboli seguendo pattern semplici; il bambino prova a indovinare la prossima mossa dell'AI
- **Obiettivo Educativo**: Introduce concetti di previsione, strategie miste e pattern recognition
- **Concetti**: Pattern recognition, predizione, adattamento strategico

## STRUTTURA TECNICA

**Framework**: Flutter Web
**Linguaggio**: Dart
**Architettura**: Widget-based con gestione stato per le diverse modalità di gioco    | Tipo di gioco                          | Regole / Modifiche principali                                       | Tipo di payoff                        | Informazione         | Comunicazione        | Concetti teorici spiegati                            | Cosa sperimenta il giocatore                                                  |
| -- | ----------------------------- | -------------------------------------- | ------------------------------------------------------------------- | ------------------------------------- | -------------------- | -------------------- | ---------------------------------------------------- | ----------------------------------------------------------------------------- |
| 1  | **Classic Tic Tac Toe**       | Sequenziale, somma zero                | Turni alternati, info completa                                      | +1 vittoria, -1 sconfitta, 0 pareggio | Completa             | No                   | *Equilibrio perfetto nei sottogiochi*                | Capisce che se entrambi giocano razionalmente, nessuno vince → Nash “statico” |
| 2  | **Simultaneous Tic Tac Toe**  | Simultaneo                             | Entrambi scelgono una cella segretamente                            | +1 per ogni linea completata          | Imperfetta           | No                   | *Equilibrio misto*, giochi simultanei                | Scopre che senza informazione, serve randomizzare per non essere prevedibile  |
| 3  | **Co-op Tic Tac Toe**         | Sequenziale, cooperativo               | Entrambi piazzano sullo stesso tabellone, obiettivo comune          | +1 per tris completato insieme        | Completa             | Sì                   | *Coordinamento, Pareto efficiency*                   | Sperimenta fiducia e collaborazione                                           |
| 4  | **Competitive Tic Tac Toe**   | Sequenziale, competitivo               | Versione classica ma con punteggi parziali per linee proprie        | Somma non zero                        | Completa             | No                   | *Somma non zero, payoff multipli*                    | Comprende compromessi tra bloccare e massimizzare                             |
| 5  | **Nebel Tic Tac Toe**         | Sequenziale                            | Alcune celle oscurate casualmente                                   | Somma zero                            | Incompleta           | No                   | *Informazione incompleta, rischio*                   | Deve decidere con incertezza: imparare a stimare                              |
| 6  | **Private Goals Tic Tac Toe** | Sequenziale, asimmetrico               | Ogni giocatore ha un obiettivo segreto diverso                      | Somma non zero                        | Incompleta (privata) | No                   | *Giochi bayesiani, “types” segreti*                  | Capisce come cambiano le strategie con info nascoste                          |
| 7  | **Tic Tac Talk**              | Sequenziale, cooperativo o competitivo | Stesse regole, ma i giocatori possono comunicare 10 secondi prima   | Somma non zero                        | Completa             | Limitata (pre-gioco) | *Effetto della comunicazione nei coordination games* | Vede come la fiducia influenza l’esito                                        |
| 8  | **Silent Mode**               | Sequenziale                            | Niente comunicazione né segnali                                     | Somma non zero                        | Completa             | No                   | *Assenza di coordinamento*                           | Sperimenta fallimento della cooperazione                                      |
| 9  | **Weighted Grid Tic Tac Toe** | Sequenziale, competitivo               | Ogni cella ha valore diverso (es. centro=3 punti)                   | Somma non zero, asimmetrico           | Completa             | No                   | *Strategie dominanti, payoff differenziati*          | Impara che l’equilibrio cambia con incentivi diversi                          |
| 10 | **Randomized Tic Tac Toe**    | Simultaneo, competitivo                | Ogni turno entrambi scelgono mossa casualmente (bot o umano)        | Somma zero                            | Incompleta           | No                   | *Equilibrio misto di Nash*                           | Vede che la randomizzazione può essere strategica                             |
| 11 | **Co-op Incomplete Info**     | Simultaneo, cooperativo                | Obiettivo comune, ma solo parte della griglia visibile              | Somma non zero                        | Incompleta           | Sì (facoltativa)     | *Trust, incomplete info, signaling*                  | Impara come la comunicazione riduce l’incertezza                              |
| 12 | **Selfish Partners**          | Somma non zero, misto                  | Entrambi ottengono punti condividendo righe parziali                | Somma non zero                        | Completa             | Sì                   | *Giochi misti cooperativi / competitivi*             | Scopre la tensione tra egoismo e collaborazione                               |
| 13 | **Nash AutoPlay**             | Simulato                               | I giocatori scelgono probabilità di mossa e il gioco si auto-esegue | Somma zero                            | Completa             | No                   | *Equilibrio misto calcolato*                         | Comprende matematicamente cosa significa un equilibrio stabile                |
| 14 | **Team Tic Tac Toe**          | Squadre 2v2                            | Ogni squadra coordina mosse                                         | Somma non zero                        | Parziale             | Sì                   | *Coalizioni e giochi cooperativi*                    | Scopre l’importanza delle alleanze e della comunicazione efficiente           |
| 15 | **Bluff Tic Tac Toe**         | Asimmetrico                            | Uno conosce i valori nascosti delle celle, l’altro no               | Somma non zero                        | Incompleta           | Sì (limitata)        | *Asimmetria informativa, signaling, bluff*           | Vede il valore dell’informazione strategica                                   |

PROTOTYPE 

1 | Classic Tic Tac Toe | Sequenziale | Turni alternati, info completa | Equilibrio perfetto, capire che giocando razionalmente nessuno vince | | 
2 | Simultaneous Tic Tac Toe | Simultaneo | Entrambi scelgono una cella segretamente | Introduzione all’equilibrio misto e randomizzazione strategica | | 
3 | Co-op Tic Tac Toe | Sequenziale | 1 utente + ai amica vs 1 ai nemica : una mossa a testa del team (inzia utente) | Cooperazione e fiducia, capire la Pareto efficiency | | 
4 | Nebel Tic Tac Toe | Sequenziale | Alcune celle oscurate casualmente | Informazione incompleta, decisioni incerte, rischio | | 
[?, X, ?]
[X, ?, O]
[?, O, ?]

5
Guess & Match Tic Tac Toe
Simulato
L’AI piazza simboli seguendo pattern semplici; il bambino prova a indovinare la prossima mossa dell’AI
Introduce concetti di previsione, strategie miste e pattern, in modo semplice e visivo



----------------------------------------

- personaggio generale nel menu che colleziona medaglie (tema militare) (animato)
- livelli da sbloccare per andare avanti da easy ad hard 
- sistema a punteggi tra varie modalità 


da chiedre ad ai:
- nella classic mode mettere drawer come nelle altere scaffold.openEndDrawer()
- fare straegei piu semplici ma sopratutto che abbiano 1 punto debole e/o combinazione che l utente deve apprendere e sfruttare

- sostituire mod guess ->     Modalità asimmetrica
      Il tabellone è un normale 3x3.
      Ogni cella ha un valore di punteggio (positivo o negativo).
      Esempio:
      +3   +1   0
      +2   -2   +1
      0    +3   +2

      Quando un giocatore piazza una pedina, ottiene subito i punti associati a quella cella.
      Se un giocatore fa tris, guadagna un bonus di +5 punti (ma non vince automaticamente).
      La partita finisce quando il tabellone è pieno o uno fa tris.
      👉 Vince chi ha il punteggio totale più alto, non necessariamente chi fa tris.

- sostituire mod co-op ->      Modalità “Bluff” (bonus)
      Ogni giocatore (X e O) può piazzare una pedina “reale” o “fake” a ogni turno.
      Solo il sistema (il gioco) sa se è reale o fake.
      Il giocatore crede di aver messo una vera, ma non lo sa.
      Se un giocatore pova a mettere una pedina su una cella già occupata:
      Se la pedina precedente era reale, il giocatore perde il turno (come hai detto).
      Se la pedina precedente era fake, la nuova pedina sostituisce quella fake e diventa reale.
      Dopo ogni terza mossa di ciascun giocatore (quindi in modo asincrono o sincrono), il gioco rivela la verità su quella pedina più vecchia:
      Se era fake → viene rimossa.
      Se era reale → rimane.
      Vince chi fa tris con sole pedine reali visibili sul tabellone.

- Simultane update : -> "diventa coop vs cooperazione"
  Entrambi scelgono simultaneamente una cella segretamente.
  e la cella diventa bloccata per un turno (nessuno può sceglierla nel turno successivo).
  Dopo 3 collisioni totali → pareggio


--------------------------------------------------------------
SEZIONE GIOCA

per mvp un solo giocoa dilemma del progionero 
🧭 FLUSSO DELL’ESPERIENZA
1️⃣ Schermata iniziale: “Gioca al Dilemma del Prigioniero”

      Popup:
      Titolo: “Scegli il tuo avversario”
      Testo breve (30 parole max) con grafico 2x2 dei payoff base:
      Cooperare/Tradire — payoff:  
      (3,3), (0,5), (5,0), (1,1)

      Dropdown o pulsanti per scegliere il tipo di bot:
      🤖 Tit-for-Tat (imita la tua mossa precedente)
      😈 Always Betray (tradisce sempre)
      😇 Always Cooperate (coopera sempre)
      🎲 Random (scelta casuale)

      Personalizzazione possibile:
      Numero di turni: 3 / 5 / 10
      Mostrare o no i payoff numerici (semplifica per principianti)

      👉 Scopo: dare libertà minima ma sufficiente a testare diverse dinamiche strategiche.

2️⃣ Schermata di gioco: “Turno X / N”
      Layout semplice, senza animazioni inutili:

      Turno 3/5
      L’avversario sceglie in segreto.

      Tu scegli:
      [ 🟢 Cooperare ]    [ 🔴 Tradire ]

      Payoff cumulativo: Tu 8 — Bot 7
      Dopo la scelta → breve pausa → mostra il risultato del turno:

      “Hai cooperato. L’avversario ha tradito.
      Risultato: (0,5).”

      Poi passa automaticamente al turno successivo.
      Durata totale di una partita: 1–2 minuti.

3️⃣ Schermata finale: “Risultato della tua partita”

      Mostra una dashboard sintetica con:

      🧩 Dati base:
      Statistica	Valore
      Turni totali	5
      % Cooperazione tua	60%
      % Cooperazione avversario	40%
      Payoff medio tuo	2.4
      Payoff medio avversario	2.6
      📈 Grafico semplice (fl_chart):

      Linea temporale dei payoff per turno.

      🔍 Analisi testuale automatica:

      Esempio:

      “Hai cooperato nei primi turni, ma hai tradito quando l’altro ti ha tradito.
      Il gioco non ha raggiunto un equilibrio stabile: la fiducia si è rotta.
      Strategia dominante: Tradire. Equilibrio di Nash: (Tradisci, Tradisci).”



 SEZIONE IMPARA 🎓
 ├─ Cos’è un gioco strategico
 ├─ Il Dilemma del Prigioniero
 ├─ Strategia dominante
 ├─ Equilibrio di Nash
 └─ Giochi ripetuti e fiducia

 🧠 Sotto l’analisi compare un pulsante “Capisci perché” → porta al modulo Impara corrispondente.
 🧩 Collegamento tra moduli e gioco
      Situazione nel gioco	Modulo “Impara” suggerito
      Utente tradisce sempre	“Strategia dominante”
      Utente e bot tradiscono sempre	“Equilibrio di Nash”
      Utente coopera con Tit-for-Tat e ottiene payoff alto	“Giochi ripetuti e fiducia”
      Utente modifica payoff e cambia equilibrio	“Cos’è un gioco strategico”


SEZIONE DOCENTE:
- Crea
seleziona le impostazioni del gioco (bot, gioco, n turni, max tempo)
lancia Crea 
si apre una schermata con qr e codice per entrare e con di fianc le stats in tempo reale del gioco 
se ttuti finsico o scade il tempo varra chiusa la lobbby e si chied il polling automatico (1,2s) 
esce o crea una nuova lobby

- Entra 
inserisce o inquadre codice 
parte il gioco come modalità classica (ma fine gioco lancia con una post il risultato al server)
esci 

Lato tecnico:
redis che tiene la struttura della lobby con i risultati (con ttl > 5min)
ci sono solo 3 endpoint :
- sendResult(studente con codice lobby) che aggiunge Risultato
- createLobby(docente con codice lobby) crea chiave redis
- updateLobby (docente con codice lobby) chiede se ci sono aggiornamenti (quando riceve il segnale "closed" il fe smette di fare polling )
